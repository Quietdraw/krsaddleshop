(function(){window.mbScope=window.mbScope||{};window.mbScope.attribute_data=[{id:2179,clientId:46,pageType:"ORDER_CONFIRMATION",dataType:"string",name:"orderId",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"wizard-content"]//SECTION[@id\x3d"wizard-step-content"]//DIV[@class\x3d"order-wizard-confirmation-module alert fade in"][1]/P[@class\x3d"order-wizard-confirmation-module-body"][1]'],useInCatalogFeed:!1,
regexTransformation:{regex:"Your order number is ",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2174,clientId:46,pageType:"ORDER_CONFIRMATION",dataType:"string",name:"emailAddress",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"wizard-content"]//SECTION[@id\x3d"wizard-step-content"]//H5[1]'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",
ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2114,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"string",name:"name",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//DIV[@class\x3d"item-details-content-header"][1]/H1[@class\x3d"item-details-content-header-title"][1]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},
useAsProductId:!1,hashValue:!1,presetAttribute:!0},{id:2122,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"string",name:"sku",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//DIV[@class\x3d"item-details-sku-container"][1]/SPAN[@class\x3d"item-details-sku-value"][1]'],useInCatalogFeed:!0,regexTransformation:{regex:"\\D.*",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!0,hashValue:!1,
presetAttribute:!0},{id:2173,clientId:46,pageType:"ORDER_CONFIRMATION",dataType:"string",name:"orderAmount",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"wizard-content"]//SECTION[@id\x3d"wizard-step-content-right"]/ARTICLE[@id\x3d"order-wizard-layout"]//DIV[@class\x3d"order-wizard-cart-summary-subtotal"][1]/P[@class\x3d"order-wizard-cart-summary-grid-float"][1]/SPAN[@class\x3d"order-wizard-cart-summary-grid-right"][1]'],
useInCatalogFeed:!1,regexTransformation:{regex:"[$,]",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2178,clientId:46,pageType:"ORDER_CONFIRMATION",dataType:"string",name:"Order_Conf_Title",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"wizard-content"]//SECTION[@id\x3d"wizard-step-content"]//DIV[@class\x3d"order-wizard-confirmation-module alert fade in"][1]/H2[@class\x3d"order-wizard-confirmation-module-title"][1]'],
useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2185,clientId:46,pageType:"CATEGORY",dataType:"string",name:"Category_Filtering",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"facet-browse"]//DIV[@class\x3d"facets-facet-browse-narrowedby"][1]/SPAN[@class\x3d"facets-facets-display-narrowedby-title"][1]'],
useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2644,clientId:46,pageType:"HOME",dataType:"boolean-exists",name:"Home page hint - promo carousel",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"home-page"]//LI[2]//IMG[1]/@src'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,
replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2645,clientId:46,pageType:"HOME",dataType:"string",name:"Home Page Hint - categories",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"home-page"]/DIV[@class\x3d"home"][1]/DIV[@class\x3d"home-banner-main"][1]//DIV[@class\x3d"home-banner-main-cell-bg"][1]/IMG[1]/@src'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,
replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2785,clientId:46,pageType:"CATEGORY",dataType:"list-string",name:"pips",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"facet-browse"]//DIV[@class\x3d"facets-facet-browse-results"][1]/DIV[@class\x3d"facets-facet-browse-items"][1]//A[@class\x3d"facets-item-cell-grid-link-image"][1]/IMG[@class\x3d"facets-item-cell-grid-image"][1]/@src'],
useInCatalogFeed:!1,regexTransformation:{regex:"http://www.krsaddleshop.com/Images/products/(.*)_.*.jpg\\?.*",replacement:"$1",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2786,clientId:46,pageType:"CATEGORY",dataType:"list-string",name:"breadcrumbs",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"facet-browse"]//DIV[@class\x3d"facets-facet-browse-narrowedby"][1]/A[@class\x3d"facets-facets-display-filter"][1]'],
useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!0},{id:2783,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"currency",name:"salePrice",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//SECTION[@class\x3d"item-details-info"][1]//SPAN[@class\x3d"item-views-price-exact"][1]/SPAN[@class\x3d"item-views-price-lead"][1]'],
useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!0},{id:2957,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"link",name:"canonical",expectedValue:null,xpathSelectors:['//LINK[@rel\x3d"canonical"]/@href'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4628,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"string",
name:"emailAddress",expectedValue:null,xpathSelectors:['//INPUT[@id\x3d"guest-email"]/@value','//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"guest-view"]//DIV[@class\x3d"login-register-checkout-as-guest-controls"][1]/INPUT[@id\x3d"guest-email"]/@value'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4630,clientId:46,pageType:"SHOPPING_CART",
dataType:"string",name:"emailAddress",expectedValue:null,xpathSelectors:['//div[@class\x3d"order-wizard-showpayments-module-payment-methods-summary"]//h5'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4624,clientId:46,pageType:"SEARCH_RESULTS",dataType:"string",name:"EmailAddress",expectedValue:null,xpathSelectors:['//p[@class\x3d"overview-profile-email"]'],useInCatalogFeed:!0,regexTransformation:{regex:"",
replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:3104,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"image",name:"largeImageUrl",expectedValue:null,xpathSelectors:['//IMG[@class\x3d"center-block"]/@src','//DIV[@class\x3d"item-details-image-gallery"]/UL[@class\x3d"bxslider"]/LI/NOSCRIPT/IMG/@src'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!0},{id:3107,
clientId:46,pageType:"PRODUCT_DETAILS",dataType:"boolean-exists",name:"outOfStock",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//SECTION[@class\x3d"item-details-info"][1]//P[@class\x3d"item-views-stock-msg-out"][1]/SPAN[@class\x3d"item-views-stock-msg-out-text"][1]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,
presetAttribute:!0},{id:4708,clientId:46,pageType:"LANDING",dataType:"string",name:"emailAddress",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]//DIV[@id\x3d"wizard-content"]//SECTION[@id\x3d"wizard-step-content"]//H5[1]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4720,clientId:46,pageType:"LANDING",dataType:"boolean-exists",
name:"pagemarker",expectedValue:null,xpathSelectors:['//SECTION[@class\x3d"login-register"]'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4721,clientId:46,pageType:"SHOPPING_CART",dataType:"currency",name:"orderAmount",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"shopping-cart"]//P[@class\x3d"cart-summary-grid-float"][1]/SPAN[@class\x3d"cart-summary-amount-subtotal"][1]',
'//SPAN[@class\x3d"order-wizard-cart-summary-grid-right"][1]'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4722,clientId:46,pageType:"SHOPPING_CART",dataType:"list-string",name:"quantities",expectedValue:null,xpathSelectors:['//INPUT[@name\x3d"quantity"]/@value','//SPAN[@class\x3d"item-views-cell-navigable-item-quantity-value"]'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",
ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4723,clientId:46,pageType:"SHOPPING_CART",dataType:"list-currency",name:"subTotals",expectedValue:null,xpathSelectors:['//SPAN[@class\x3d"cart-item-summary-amount-value"]','//SPAN[@class\x3d"item-views-cell-navigable-item-amount-value"]'],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:4724,clientId:46,pageType:"SHOPPING_CART",
dataType:"list-string",name:"pids",expectedValue:null,xpathSelectors:['//SPAN[@class\x3d"item-views-cell-actionable-sku-value"]','//SPAN[@class\x3d"item-views-cell-navigable-sku-value"]'],useInCatalogFeed:!1,regexTransformation:{regex:"\\D.*",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!0,hashValue:!1,presetAttribute:!1},{id:4725,clientId:46,pageType:"SHOPPING_CART",dataType:"string",name:"optinConfButton",expectedValue:null,xpathSelectors:['//BUTTON[@class\x3d"order-wizard-step-button-continue"]'],
useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:3284,clientId:46,pageType:"SEARCH_RESULTS",dataType:"string",name:"SearchWord",expectedValue:null,xpathSelectors:["/html/head/title"],useInCatalogFeed:!0,regexTransformation:{regex:'Search results for "(.*)"',replacement:"$1",ignoreCase:!1,replaceAll:!0},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:3518,clientId:46,pageType:"PRODUCT_DETAILS",
dataType:"string",name:"addToCartButton",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//DIV[@class\x3d"item-details-add-to-cart"][1]/BUTTON[@class\x3d"item-details-add-to-cart-button"][1]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:3519,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"string",
name:"quantity",expectedValue:null,xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//DIV[@class\x3d"item-details-options-quantity"][1]/INPUT[@id\x3d"quantity"]/@value'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!1},{id:2788,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"currency",name:"listPrice",expectedValue:null,
xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//SECTION[@class\x3d"item-details-info"][1]//SPAN[@class\x3d"item-views-price-exact"][1]/SMALL[@class\x3d"item-views-price-old"][1]','//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//SECTION[@class\x3d"item-details-info"][1]//SPAN[@class\x3d"item-views-price-exact"][1]/SPAN[@class\x3d"item-views-price-lead"][1]',
'//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]/DIV[@id\x3d"content"]/DIV[@id\x3d"product-detail"]//SECTION[@class\x3d"item-details-info"][1]//SPAN[@class\x3d"item-views-price-range"][1]/SPAN[@class\x3d"item-views-price-lead"][1]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!0},{id:3044,clientId:46,pageType:"PRODUCT_DETAILS",dataType:"list-string",name:"breadcrumbs",expectedValue:null,
xpathSelectors:['//DIV[@id\x3d"main"]//DIV[@id\x3d"layout"]/DIV[@id\x3d"main-container"]//UL[@class\x3d"global-views-breadcrumb"][1]//LI[@class\x3d"global-views-breadcrumb-item-active" or @class\x3d"global-views-breadcrumb-item"]'],useInCatalogFeed:!0,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:!1,hashValue:!1,presetAttribute:!0}];window.mbScope.regex_data=[{id:102,clientId:46,pageType:"SEARCH_RESULTS",regex:"http://www.krsaddleshop.com/search\\?keywords\x3d.*",
url:null,variableToCapture:null,useAsProductId:!1,hashValue:!1}];window.mbScope.client_config={"Ajax Site":!0,useRecentCartDataAsOrderConfInformation:!0,"Breadcrumb Extraction":!1,disableCss:!1,feedbackLoop:!1}})();
(function(){function c(c,F,g){var k=[];c=f(c);for(var p=0;p<c.length;p++)k.push(l(c[p],F,null,g));return k}function f(c){if(!c||0==c.replace(/^\s+|\s+$/g,"").length)return[];try{for(var f=[],g=document.evaluate(c,document.body,null,5,null),k=g.iterateNext();k;k=g.iterateNext())f.push(k);return f}catch(l){}return[]}function g(c){if(null==c)return"";var f="";for(c=c.firstChild;null!=c;c=c.nextSibling)3===c.nodeType?f+=c.nodeValue+" ":1!==c.nodeType||c.nodeName&&("SCRIPT"===c.nodeName.toUpperCase()||
"STYLE"===c.nodeName.toUpperCase())||(f+=g(c));return f}function l(c,f,l,k){f="undefined"==typeof f?"string":f;return"boolean-exists"==f?c!=null>0?"true":"false":"boolean-match"==f&&"undefined"!=typeof l?p(g(c).replace(/\s+/g," ").replace(/^\s+|\s+$/g,""),k)===l?"true":"false":c&&c.nodeType&&(2===c.nodeType||3===c.nodeType)?-1<f.indexOf("currency")?p(t(c.textContent||c.nodeValue),k):p(c.textContent||c.nodeValue,k):-1<f.indexOf("currency")?p(t(g(c).replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")),k):
p(g(c).replace(/\s+/g," ").replace(/^\s+|\s+$/g,""),k)}function t(c){try{return c.replace(RegExp("[$,]","g"),"")}catch(f){return c}}function p(c,f){if(!f)return c;try{var g=f.regex||"",k=f.replacement||"",l=f.replaceAll?"g":"",l=l+(f.ignoreCase?"i":"");return c.replace(new RegExp(g,l),k)}catch(p){return c}}window.mbScope=window.mbScope||{};window.mbScope.xpathEval={getNodeTextFromXPath:function(c,g,p,k){if(!c||0==c.replace(/^\s+|\s+$/g,"").length)return"";c=f(c);return"undefined"==typeof c||0>=c.length?
"":l(c[0],g,p,k)},getAllNodeTextsFromXPath:c,getAllNodeTextsFromXPathAsString:function(f,g,l){return c(f,g,l).join(", ")},getNodeFromXPath:function(c){if(!c||0==c.replace(/^\s+|\s+$/g,"").length)return"";c=f(c);return"undefined"==typeof c||0>=c.length?"":c[0]},getAllNodesFromXPath:function(c){return f(c)},evaluateXpath:f,_getTextContent:g,_getValueFromNode:l,_updateExtractedValueBasedOnTransformation:p};"function"!==typeof document.evaluate&&(function(){function c(a){return function(){return this[a]}}
function f(a){return function(){return a}}function g(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var d=Object.prototype.toString.call(a);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function k(a){return"string"==typeof a}function l(a,b,d){return a.call.apply(a.bind,arguments)}function p(a,b,d){if(!a)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,x);return a.apply(b,d)}}return function(){return a.apply(b,arguments)}}
function t(a,b,d){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:p;return t.apply(null,arguments)}function ua(a,b){var d=Array.prototype.slice.call(arguments,1);return function(){var b=d.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function H(a){function b(){}var d=N;b.prototype=d.prototype;a.t=d.prototype;a.prototype=new b}function R(a,b,d){this.a=a;this.b=b||1;this.d=d||1}function ca(){var a=O.document;return a?a.documentMode:void 0}function da(a){if(!gb[a]){for(var b=
0,d=String(hb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),x=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(d.length,x.length),c=0;0==b&&c<e;c++){var h=d[c]||"",f=x[c]||"",q=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var g=q.exec(h)||["","",""],k=m.exec(f)||["","",""];if(0==g[0].length&&0==k[0].length)break;b=((0==g[1].length?0:parseInt(g[1],10))<(0==k[1].length?0:parseInt(k[1],10))?-1:(0==g[1].length?0:parseInt(g[1],10))>(0==k[1].length?0:parseInt(k[1],10))?
1:0)||((0==g[2].length)<(0==k[2].length)?-1:(0==g[2].length)>(0==k[2].length)?1:0)||(g[2]<k[2]?-1:g[2]>k[2]?1:0)}while(0==b)}gb[a]=0<=b}}function S(a,b,d,x){this.a=a;this.nodeName=d;this.nodeValue=x;this.nodeType=2;this.parentNode=this.ownerElement=b}function la(a,b){var d=ib&&"href"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new S(b,a,b.nodeName,d)}function va(a){this.b=a;this.a=0}function wa(a){a=a.match(Gb);for(var b=0;b<a.length;b++)Hb.test(a[b])&&a.splice(b,1);return new va(a)}
function n(a,b){return a.b[a.a+(b||0)]}function r(a){return a.b[a.a++]}function xa(a,b){var d;a:{d=a.length;for(var x=k(a)?a.split(""):a,e=0;e<d;e++)if(e in x&&b.call(void 0,x[e],e,a)){d=e;break a}d=-1}return 0>d?null:k(a)?a.charAt(d):a[d]}function ma(a){return I.concat.apply(I,arguments)}function ea(a,b,d){return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,b,d)}function Y(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==
b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function fa(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(J&&!(J&&9<=ya)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var d=1==a.nodeType,x=1==b.nodeType;if(d&&x)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,c=b.parentNode;return e==c?ga(a,b):!d&&Y(e,b)?-1*na(a,b):!x&&Y(c,a)?na(b,a):(d?a.sourceIndex:
e.sourceIndex)-(x?b.sourceIndex:c.sourceIndex)}x=9==a.nodeType?a:a.ownerDocument||a.document;d=x.createRange();d.selectNode(a);d.collapse(!0);x=x.createRange();x.selectNode(b);x.collapse(!0);return d.compareBoundaryPoints(O.Range.START_TO_END,x)}function na(a,b){var d=a.parentNode;if(d==b)return-1;for(var e=b;e.parentNode!=d;)e=e.parentNode;return ga(e,a)}function ga(a,b){for(var d=b;d=d.previousSibling;)if(d==a)return-1;return 1}function E(a){var b=null,d=a.nodeType;1==d&&(b=a.textContent,b=void 0==
b||null==b?a.innerText:b,b=void 0==b||null==b?"":b);if("string"!=typeof b)if(T&&"title"==a.nodeName.toLowerCase()&&1==d)b=a.text;else if(9==d||1==d){a=9==d?a.documentElement:a.firstChild;for(var d=0,e=[],b="";a;){do 1!=a.nodeType&&(b+=a.nodeValue),T&&"title"==a.nodeName.toLowerCase()&&(b+=a.text),e[d++]=a;while(a=a.firstChild);for(;d&&!(a=e[--d].nextSibling););}}else b=a.nodeValue;return""+b}function e(a,b,d){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(e){return!1}ib&&"class"==b&&(b=
"className");return null==d?!!a.getAttribute(b):a.getAttribute(b,2)==d}function h(a,b,d,e,c){return(T?q:m).call(null,a,b,k(d)?d:null,k(e)?e:null,c||new u)}function q(a,b,d,c,ba){if(a instanceof Z||8==a.b||d&&null===a.b){var h=b.all;if(!h)return ba;a=jb(a);if("*"!=a&&(h=b.getElementsByTagName(a),!h))return ba;if(d){for(var f=[],q=0;b=h[q++];)e(b,d,c)&&f.push(b);h=f}for(q=0;b=h[q++];)"*"==a&&"!"==b.tagName||w(ba,b);return ba}Ra(a,b,d,c,ba);return ba}function m(a,b,d,c,h){b.getElementsByName&&c&&"name"==
d&&!J?(b=b.getElementsByName(c),U(b,function(b){a.a(b)&&w(h,b)})):b.getElementsByClassName&&c&&"class"==d?(b=b.getElementsByClassName(c),U(b,function(b){b.className==c&&a.a(b)&&w(h,b)})):a instanceof Q?Ra(a,b,d,c,h):b.getElementsByTagName&&(b=b.getElementsByTagName(a.d()),U(b,function(a){e(a,d,c)&&w(h,a)}));return h}function Sa(a,b,d,c,h){var f;if((a instanceof Z||8==a.b||d&&null===a.b)&&(f=b.childNodes)){var q=jb(a);if("*"!=q&&(f=kb(f,function(a){return a.tagName&&a.tagName.toLowerCase()==q}),!f))return h;
d&&(f=kb(f,function(a){return e(a,d,c)}));U(f,function(a){"*"==q&&("!"==a.tagName||"*"==q&&1!=a.nodeType)||w(h,a)});return h}return lb(a,b,d,c,h)}function lb(a,b,d,c,h){for(b=b.firstChild;b;b=b.nextSibling)e(b,d,c)&&a.a(b)&&w(h,b);return h}function Ra(a,b,d,c,h){for(b=b.firstChild;b;b=b.nextSibling)e(b,d,c)&&a.a(b)&&w(h,b),Ra(a,b,d,c,h)}function jb(a){if(a instanceof Q){if(8==a.b)return"!";if(null===a.b)return"*"}return a.d()}function u(){this.b=this.a=null;this.i=0}function mb(a){this.b=a;this.a=
this.d=null}function Ta(a,b){if(!a.a)return b;if(!b.a)return a;for(var d=a.a,e=b.a,c=null,h=null,f=0;d&&e;)d.b==e.b||d.b instanceof S&&e.b instanceof S&&d.b.a==e.b.a?(h=d,d=d.a,e=e.a):0<fa(d.b,e.b)?(h=e,e=e.a):(h=d,d=d.a),(h.d=c)?c.a=h:a.a=h,c=h,f++;for(h=d||e;h;)h.d=c,c=c.a=h,f++,h=h.a;a.b=c;a.i=f;return a}function Ua(a,b){var d=new mb(b);d.a=a.a;a.b?a.a.d=d:a.a=a.b=d;a.a=d;a.i++}function w(a,b){var d=new mb(b);d.d=a.b;a.a?a.b.a=d:a.a=a.b=d;a.b=d;a.i++}function za(a){return(a=a.a)?a.b:null}function Aa(a){return(a=
za(a))?E(a):""}function V(a,b){return new Ib(a,!!b)}function Ib(a,b){this.d=a;this.b=(this.c=b)?a.b:a.a;this.a=null}function z(a){var b=a.b;if(null==b)return null;var d=a.a=b;a.b=a.c?b.d:b.a;return d.b}function Ba(a){switch(a.nodeType){case 1:return ua(nb,a);case 9:return Ba(a.documentElement);case 2:return a.ownerElement?Ba(a.ownerElement):Va;case 11:case 10:case 6:case 12:return Va;default:return a.parentNode?Ba(a.parentNode):Va}}function Va(){return null}function nb(a,b){if(a.prefix==b)return a.namespaceURI||
"http://www.w3.org/1999/xhtml";var d=a.getAttributeNode("xmlns:"+b);return d&&d.specified?d.value||null:a.parentNode&&9!=a.parentNode.nodeType?nb(a.parentNode,b):null}function N(a){this.g=a;this.b=this.f=!1;this.d=null}function A(a){return"\n  "+a.toString().split("\n").join("\n  ")}function ob(a,b){a.f=b}function pb(a,b){a.b=b}function C(a,b){var d=a.a(b);return d instanceof u?+Aa(d):+d}function B(a,b){var d=a.a(b);return d instanceof u?Aa(d):""+d}function ha(a,b){var d=a.a(b);return d instanceof
u?!!d.i:!!d}function oa(a,b,d){N.call(this,a.g);this.c=a;this.e=b;this.j=d;this.f=b.f||d.f;this.b=b.b||d.b;this.c==Jb&&(d.b||d.f||4==d.g||0==d.g||!b.d?b.b||b.f||4==b.g||0==b.g||!d.d||(this.d={name:d.d.name,l:b}):this.d={name:b.d.name,l:d})}function ia(a,b,d,e,c){b=b.a(e);d=d.a(e);var h;if(b instanceof u&&d instanceof u){c=V(b);for(e=z(c);e;e=z(c))for(b=V(d),h=z(b);h;h=z(b))if(a(E(e),E(h)))return!0;return!1}if(b instanceof u||d instanceof u){b instanceof u?c=b:(c=d,d=b);c=V(c);b=typeof d;for(e=z(c);e;e=
z(c)){switch(b){case "number":e=+E(e);break;case "boolean":e=!!E(e);break;case "string":e=E(e);break;default:throw Error("Illegal primitive type for comparison.");}if(a(e,d))return!0}return!1}return c?"boolean"==typeof b||"boolean"==typeof d?a(!!b,!!d):"number"==typeof b||"number"==typeof d?a(+b,+d):a(b,d):a(+b,+d)}function qb(a,b,d,e){this.a=a;this.p=b;this.g=d;this.k=e}function K(a,b,d,e){if(Wa.hasOwnProperty(a))throw Error("Binary operator already created: "+a);a=new qb(a,b,d,e);return Wa[a.toString()]=
a}function Ca(a,b){if(b.a.length&&4!=a.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");N.call(this,a.g);this.c=a;this.e=b;this.f=a.f;this.b=a.b}function Da(a,b){if(b.length<a.o)throw Error("Function "+a.h+" expects at least"+a.o+" arguments, "+b.length+" given");if(null!==a.n&&b.length>a.n)throw Error("Function "+a.h+" expects at most "+a.n+" arguments, "+b.length+" given");a.s&&U(b,function(b,e){if(4!=b.g)throw Error("Argument "+e+" to function "+a.h+" is not of type Nodeset: "+
b);});N.call(this,a.g);this.e=a;this.c=b;ob(this,a.f||Ea(b,function(a){return a.f}));pb(this,a.r&&!b.length||a.q&&!!b.length||Ea(b,function(a){return a.b}))}function rb(a,b,d,e,c,h,f,q,m){this.h=a;this.g=b;this.f=d;this.r=e;this.q=c;this.k=h;this.o=f;this.n=void 0!==q?q:f;this.s=!!m}function v(a,b,d,e,c,h,f,q){if(Xa.hasOwnProperty(a))throw Error("Function already created: "+a+".");Xa[a]=new rb(a,b,d,e,!1,c,h,f,q)}function Q(a,b){this.e=a;this.c=void 0!==b?b:null;this.b=null;switch(a){case "comment":this.b=
8;break;case "text":this.b=3;break;case "processing-instruction":this.b=7;break;case "node":break;default:throw Error("Unexpected argument");}}function Ya(a){return"comment"==a||"text"==a||"processing-instruction"==a||"node"==a}function Fa(a){N.call(this,3);this.c=a.substring(1,a.length-1)}function Z(a,b){this.h=a.toLowerCase();this.c=b?b.toLowerCase():"http://www.w3.org/1999/xhtml"}function Ga(a){N.call(this,1);this.c=a}function Ha(a,b){N.call(this,a.g);this.e=a;this.c=b;this.f=a.f;this.b=a.b;if(1==
this.c.length){var d=this.c[0];d.m||d.c!=sb||(d=d.j,"*"!=d.d()&&(this.d={name:d.d(),l:null}))}}function pa(){N.call(this,4)}function Ia(){N.call(this,4)}function Ja(a,b){this.a=a;this.b=!!b}function Za(a,b,d){for(d=d||0;d<a.a.length;d++)for(var e=a.a[d],c=V(b),h=b.i,f,q=0;f=z(c);q++){var m=a.b?h-q:q+1;f=e.a(new R(f,m,h));if("number"==typeof f)m=m==f;else if("string"==typeof f||"boolean"==typeof f)m=!!f;else if(f instanceof u)m=0<f.i;else throw Error("Predicate.evaluate returned an unexpected type.");
if(!m){m=c;f=m.d;var g=m.a;if(!g)throw Error("Next must be called at least once before remove.");var k=g.d,g=g.a;k?k.a=g:f.a=g;g?g.d=k:f.b=k;f.i--;m.a=null}}return b}function W(a,b,d,e){N.call(this,4);this.c=a;this.j=b;this.e=d||new Ja([]);this.m=!!e;b=0<this.e.a.length?this.e.a[0].d:null;a.b&&b&&(a=b.name,a=T?a.toLowerCase():a,this.d={name:a,l:b.l});a:{a=this.e;for(b=0;b<a.a.length;b++)if(d=a.a[b],d.f||1==d.g||0==d.g){a=!0;break a}a=!1}this.f=a}function tb(a,b,d,e){this.h=a;this.d=b;this.a=d;this.b=
e}function L(a,b,d,e){if($a.hasOwnProperty(a))throw Error("Axis already created: "+a);b=new tb(a,b,d,!!e);return $a[a]=b}function Ka(a){N.call(this,1);this.c=a;this.f=a.f;this.b=a.b}function La(a){N.call(this,4);this.c=a;ob(this,Ea(this.c,function(a){return a.f}));pb(this,Ea(this.c,function(a){return a.b}))}function Kb(a,b){this.a=a;this.b=b}function Ma(a){for(var b,d=[];;){M(a,"Missing right hand side of binary expression.");b=ub(a);var e=r(a.a);if(!e)break;var c=(e=Wa[e]||null)&&e.p;if(!c){a.a.a--;
break}for(;d.length&&c<=d[d.length-1].p;)b=new oa(d.pop(),d.pop(),b);d.push(b,e)}for(;d.length;)b=new oa(d.pop(),d.pop(),b);return b}function M(a,b){if(a.a.b.length<=a.a.a)throw Error(b);}function ab(a,b){var d=r(a.a);if(d!=b)throw Error("Bad token, expected: "+b+" got: "+d);}function vb(a){a=r(a.a);if(")"!=a)throw Error("Bad token: "+a);}function wb(a){a=r(a.a);if(2>a.length)throw Error("Unclosed literal string");return new Fa(a)}function xb(a){var b=r(a.a),d=b.indexOf(":");if(-1==d)return new Z(b);
var e=b.substring(0,d);a=a.b(e);if(!a)throw Error("Namespace prefix not declared: "+e);b=b.substr(d+1);return new Z(b,a)}function yb(a){var b,d=[],e;if("/"==n(a.a)||"//"==n(a.a)){b=r(a.a);e=n(a.a);if("/"==b&&(a.a.b.length<=a.a.a||"."!=e&&".."!=e&&"@"!=e&&"*"!=e&&!/(?![0-9])[\w]/.test(e)))return new pa;e=new pa;M(a,"Missing next location step.");b=bb(a,b);d.push(b)}else{a:{b=n(a.a);e=b.charAt(0);switch(e){case "$":throw Error("Variable reference not allowed in HTML XPath");case "(":r(a.a);b=Ma(a);
M(a,'unclosed "("');ab(a,")");break;case '"':case "'":b=wb(a);break;default:if(isNaN(+b))if(!Ya(b)&&/(?![0-9])[\w]/.test(e)&&"("==n(a.a,1)){b=r(a.a);b=Xa[b]||null;r(a.a);for(e=[];")"!=n(a.a);){M(a,"Missing function argument list.");e.push(Ma(a));if(","!=n(a.a))break;r(a.a)}M(a,"Unclosed function argument list.");vb(a);b=new Da(b,e)}else{b=null;break a}else b=new Ga(+r(a.a))}"["==n(a.a)&&(e=new Ja(zb(a)),b=new Ca(b,e))}if(b)if("/"==n(a.a)||"//"==n(a.a))e=b;else return b;else b=bb(a,"/"),e=new Ia,d.push(b)}for(;"/"==
n(a.a)||"//"==n(a.a);)b=r(a.a),M(a,"Missing next location step."),b=bb(a,b),d.push(b);return new Ha(e,d)}function bb(a,b){var d,e,c;if("/"!=b&&"//"!=b)throw Error('Step op should be "/" or "//"');if("."==n(a.a))return e=new W(Lb,new Q("node")),r(a.a),e;if(".."==n(a.a))return e=new W(Mb,new Q("node")),r(a.a),e;var h;if("@"==n(a.a))h=sb,r(a.a),M(a,"Missing attribute name");else if("::"==n(a.a,1)){if(!/(?![0-9])[\w]/.test(n(a.a).charAt(0)))throw Error("Bad token: "+r(a.a));d=r(a.a);h=$a[d]||null;if(!h)throw Error("No axis with name: "+
d);r(a.a);M(a,"Missing node name")}else h=Ab;d=n(a.a);if(/(?![0-9])[\w]/.test(d.charAt(0)))if("("==n(a.a,1)){if(!Ya(d))throw Error("Invalid node type: "+d);d=r(a.a);if(!Ya(d))throw Error("Invalid type name: "+d);ab(a,"(");M(a,"Bad nodetype");c=n(a.a).charAt(0);var f=null;if('"'==c||"'"==c)f=wb(a);M(a,"Bad nodetype");vb(a);d=new Q(d,f)}else d=xb(a);else if("*"==d)d=xb(a);else throw Error("Bad token: "+r(a.a));c=new Ja(zb(a),h.a);return e||new W(h,d,c,"//"==b)}function zb(a){for(var b=[];"["==n(a.a);){r(a.a);
M(a,"Missing predicate expression.");var d=Ma(a);b.push(d);M(a,"Unclosed predicate expression.");ab(a,"]")}return b}function ub(a){if("-"==n(a.a))return r(a.a),new Ka(ub(a));var b=yb(a);if("|"!=n(a.a))a=b;else{for(b=[b];"|"==r(a.a);)M(a,"Missing next union location path."),b.push(yb(a));a.a.a--;a=new La(b)}return a}function Bb(a,b){if(!a.length)throw Error("Empty XPath expression.");var d=wa(a);if(d.b.length<=d.a)throw Error("Invalid XPath expression.");b?"function"==g(b)||(b=t(b.lookupNamespaceURI,
b)):b=f(null);var e=Ma(new Kb(d,b));if(!(d.b.length<=d.a))throw Error("Bad token: "+r(d));this.evaluate=function(a,b){var d=e.a(new R(a));return new P(d,b)}}function P(a,b){if(0==b)if(a instanceof u)b=4;else if("string"==typeof a)b=2;else if("number"==typeof a)b=1;else if("boolean"==typeof a)b=3;else throw Error("Unexpected evaluation result.");if(2!=b&&1!=b&&3!=b&&!(a instanceof u))throw Error("value could not be converted to the specified type");this.resultType=b;var d;switch(b){case 2:this.stringValue=
a instanceof u?Aa(a):""+a;break;case 1:this.numberValue=a instanceof u?+Aa(a):+a;break;case 3:this.booleanValue=a instanceof u?0<a.i:!!a;break;case 4:case 5:case 6:case 7:var e=V(a);d=[];for(var c=z(e);c;c=z(e))d.push(c instanceof S?c.a:c);this.snapshotLength=a.i;this.invalidIteratorState=!1;break;case 8:case 9:e=za(a);this.singleNodeValue=e instanceof S?e.a:e;break;default:throw Error("Unknown XPathResult type.");}var h=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error("iterateNext called with wrong result type");
return h>=d.length?null:d[h++]};this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error("snapshotItem called with wrong result type");return a>=d.length||0>a?null:d[a]}}function Nb(a){this.lookupNamespaceURI=Ba(a)}function Cb(a){a=a||O;var b=a.document;b.evaluate||(a.XPathResult=P,b.evaluate=function(a,b,e,c){return(new Bb(a,e)).evaluate(b,c)},b.createExpression=function(a,b){return new Bb(a,b)},b.createNSResolver=function(a){return new Nb(a)})}var O=this;Function.prototype.bind=Function.prototype.bind||
function(a,b){if(1<arguments.length){var d=Array.prototype.slice.call(arguments,1);d.unshift(this,a);return t.apply(null,d)}return t(this,a)};var ja,Na,Oa,cb;cb=Oa=Na=ja=!1;var qa;if(qa=O.navigator?O.navigator.userAgent:null){var Ob=O.navigator;ja=0==qa.lastIndexOf("Opera",0);Na=!ja&&(-1!=qa.indexOf("MSIE")||-1!=qa.indexOf("Trident"));Oa=!ja&&-1!=qa.indexOf("WebKit");cb=!ja&&!Oa&&!Na&&"Gecko"==Ob.product}var J=Na,db=cb,Pb=Oa,eb;a:{var Pa="",ra;if(ja&&O.opera)var fb=O.opera.version,Pa="function"==
typeof fb?fb():fb;else if(db?ra=/rv\:([^\);]+)(\)|;)/:J?ra=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Pb&&(ra=/WebKit\/(\S+)/),ra)var Db=ra.exec(O.navigator?O.navigator.userAgent:null),Pa=Db?Db[1]:"";if(J){var Eb=ca();if(Eb>parseFloat(Pa)){eb=String(Eb);break a}}eb=Pa}var hb=eb,gb={},Fb=O.document,ya=Fb&&J?ca()||("CSS1Compat"==Fb.compatMode?parseInt(hb,10):5):void 0,T=J&&!(J&&9<=ya),ib=J&&!(J&&8<=ya),Gb=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!\x3c\x3e]\x3d|\\s+|.",
"g"),Hb=/^\s/,I=Array.prototype,Qb=I.indexOf?function(a,b,d){return I.indexOf.call(a,b,d)}:function(a,b,d){d=null==d?0:0>d?Math.max(0,a.length+d):d;if(k(a))return k(b)&&1==b.length?a.indexOf(b,d):-1;for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1},U=I.forEach?function(a,b,d){I.forEach.call(a,b,d)}:function(a,b,d){for(var e=a.length,c=k(a)?a.split(""):a,h=0;h<e;h++)h in c&&b.call(d,c[h],h,a)},kb=I.filter?function(a,b,d){return I.filter.call(a,b,d)}:function(a,b,d){for(var e=a.length,c=[],
h=0,f=k(a)?a.split(""):a,q=0;q<e;q++)if(q in f){var m=f[q];b.call(d,m,q,a)&&(c[h++]=m)}return c},ka=I.reduce?function(a,b,d,e){e&&(b=t(b,e));return I.reduce.call(a,b,d)}:function(a,b,d,e){var c=d;U(a,function(d,h){c=b.call(e,c,d,h,a)});return c},Ea=I.some?function(a,b,d){return I.some.call(a,b,d)}:function(a,b,d){for(var e=a.length,c=k(a)?a.split(""):a,h=0;h<e;h++)if(h in c&&b.call(d,c[h],h,a))return!0;return!1};!db&&!J||J&&J&&9<=ya||db&&da("1.9.1");J&&da("9");H(oa);oa.prototype.a=function(a){return this.c.k(this.e,
this.j,a)};oa.prototype.toString=function(){var a="Binary Expression: "+this.c,a=a+A(this.e);return a+A(this.j)};qb.prototype.toString=c("a");var Wa={};K("div",6,1,function(a,b,d){return C(a,d)/C(b,d)});K("mod",6,1,function(a,b,d){return C(a,d)%C(b,d)});K("*",6,1,function(a,b,d){return C(a,d)*C(b,d)});K("+",5,1,function(a,b,d){return C(a,d)+C(b,d)});K("-",5,1,function(a,b,d){return C(a,d)-C(b,d)});K("\x3c",4,2,function(a,b,d){return ia(function(a,b){return a<b},a,b,d)});K("\x3e",4,2,function(a,b,
d){return ia(function(a,b){return a>b},a,b,d)});K("\x3c\x3d",4,2,function(a,b,d){return ia(function(a,b){return a<=b},a,b,d)});K("\x3e\x3d",4,2,function(a,b,d){return ia(function(a,b){return a>=b},a,b,d)});var Jb=K("\x3d",3,2,function(a,b,d){return ia(function(a,b){return a==b},a,b,d,!0)});K("!\x3d",3,2,function(a,b,d){return ia(function(a,b){return a!=b},a,b,d,!0)});K("and",2,2,function(a,b,d){return ha(a,d)&&ha(b,d)});K("or",1,2,function(a,b,d){return ha(a,d)||ha(b,d)});H(Ca);Ca.prototype.a=function(a){a=
this.c.a(a);return Za(this.e,a)};Ca.prototype.toString=function(){return"Filter:"+A(this.c)+A(this.e)};H(Da);Da.prototype.a=function(a){return this.e.k.apply(null,ma(a,this.c))};Da.prototype.toString=function(){var a="Function: "+this.e;if(this.c.length)var b=ka(this.c,function(a,b){return a+A(b)},"Arguments:"),a=a+A(b);return a};rb.prototype.toString=c("h");var Xa={};v("boolean",2,!1,!1,function(a,b){return ha(b,a)},1);v("ceiling",1,!1,!1,function(a,b){return Math.ceil(C(b,a))},1);v("concat",3,!1,
!1,function(a,b){var d=ea(arguments,1);return ka(d,function(b,d){return b+B(d,a)},"")},2,null);v("contains",2,!1,!1,function(a,b,d){b=B(b,a);a=B(d,a);return-1!=b.indexOf(a)},2);v("count",1,!1,!1,function(a,b){return b.a(a).i},1,1,!0);v("false",2,!1,!1,f(!1),0);v("floor",1,!1,!1,function(a,b){return Math.floor(C(b,a))},1);v("id",4,!1,!1,function(a,b){function d(a){if(T){var b=c.all[a];if(b){if(b.nodeType&&a==b.id)return b;if(b.length)return xa(b,function(b){return a==b.id})}return null}return c.getElementById(a)}
var e=a.a,c=9==e.nodeType?e:e.ownerDocument,e=B(b,a).split(/\s+/),h=[];U(e,function(a){a=d(a);!a||0<=Qb(h,a)||h.push(a)});h.sort(fa);var f=new u;U(h,function(a){w(f,a)});return f},1);v("lang",2,!1,!1,f(!1),1);v("last",1,!0,!1,function(a){if(1!=arguments.length)throw Error("Function last expects ()");return a.d},0);v("local-name",3,!1,!0,function(a,b){var d=b?za(b.a(a)):a.a;return d?d.nodeName.toLowerCase():""},0,1,!0);v("name",3,!1,!0,function(a,b){var d=b?za(b.a(a)):a.a;return d?d.nodeName.toLowerCase():
""},0,1,!0);v("namespace-uri",3,!0,!1,f(""),0,1,!0);v("normalize-space",3,!1,!0,function(a,b){return(b?B(b,a):E(a.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1);v("not",2,!1,!1,function(a,b){return!ha(b,a)},1);v("number",1,!1,!0,function(a,b){return b?C(b,a):+E(a.a)},0,1);v("position",1,!0,!1,function(a){return a.b},0);v("round",1,!1,!1,function(a,b){return Math.round(C(b,a))},1);v("starts-with",2,!1,!1,function(a,b,d){b=B(b,a);a=B(d,a);return 0==b.lastIndexOf(a,0)},2);v("string",3,
!1,!0,function(a,b){return b?B(b,a):E(a.a)},0,1);v("string-length",1,!1,!0,function(a,b){return(b?B(b,a):E(a.a)).length},0,1);v("substring",3,!1,!1,function(a,b,d,e){d=C(d,a);if(isNaN(d)||Infinity==d||-Infinity==d)return"";e=e?C(e,a):Infinity;if(isNaN(e)||-Infinity===e)return"";d=Math.round(d)-1;var c=Math.max(d,0);a=B(b,a);if(Infinity==e)return a.substring(c);b=Math.round(e);return a.substring(c,d+b)},2,3);v("substring-after",3,!1,!1,function(a,b,d){b=B(b,a);a=B(d,a);d=b.indexOf(a);return-1==d?"":
b.substring(d+a.length)},2);v("substring-before",3,!1,!1,function(a,b,d){b=B(b,a);a=B(d,a);a=b.indexOf(a);return-1==a?"":b.substring(0,a)},2);v("sum",1,!1,!1,function(a,b){for(var d=V(b.a(a)),e=0,c=z(d);c;c=z(d))e+=+E(c);return e},1,1,!0);v("translate",3,!1,!1,function(a,b,d,e){b=B(b,a);d=B(d,a);var c=B(e,a);a=[];for(e=0;e<d.length;e++){var h=d.charAt(e);h in a||(a[h]=c.charAt(e))}d="";for(e=0;e<b.length;e++)h=b.charAt(e),d+=h in a?a[h]:h;return d},3);v("true",2,!1,!1,f(!0),0);Q.prototype.a=function(a){return null===
this.b||this.b==a.nodeType};Q.prototype.d=c("e");Q.prototype.toString=function(){var a="Kind Test: "+this.e;null===this.c||(a+=A(this.c));return a};H(Fa);Fa.prototype.a=c("c");Fa.prototype.toString=function(){return"Literal: "+this.c};Z.prototype.a=function(a){var b=a.nodeType;return 1!=b&&2!=b?!1:"*"!=this.h&&this.h!=a.nodeName.toLowerCase()?!1:this.c==(a.namespaceURI?a.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")};Z.prototype.d=c("h");Z.prototype.toString=function(){return"Name Test: "+
("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.h};H(Ga);Ga.prototype.a=c("c");Ga.prototype.toString=function(){return"Number: "+this.c};H(Ha);H(pa);pa.prototype.a=function(a){var b=new u;a=a.a;9==a.nodeType?w(b,a):w(b,a.ownerDocument);return b};pa.prototype.toString=f("Root Helper Expression");H(Ia);Ia.prototype.a=function(a){var b=new u;w(b,a.a);return b};Ia.prototype.toString=f("Context Helper Expression");Ha.prototype.a=function(a){var b=this.e.a(a);if(!(b instanceof u))throw Error("Filter expression must evaluate to nodeset.");
a=this.c;for(var d=0,e=a.length;d<e&&b.i;d++){var c=a[d],h=V(b,c.c.a),f;if(c.f||c.c!=Rb)if(c.f||c.c!=Sb)for(f=z(h),b=c.a(new R(f));null!=(f=z(h));)f=c.a(new R(f)),b=Ta(b,f);else f=z(h),b=c.a(new R(f));else{for(f=z(h);(b=z(h))&&(!f.contains||f.contains(b))&&b.compareDocumentPosition(f)&8;f=b);b=c.a(new R(f))}}return b};Ha.prototype.toString=function(){var a;a="Path Expression:"+A(this.e);if(this.c.length){var b=ka(this.c,function(a,b){return a+A(b)},"Steps:");a+=A(b)}return a};Ja.prototype.toString=
function(){return ka(this.a,function(a,b){return a+A(b)},"Predicates:")};H(W);W.prototype.a=function(a){var b=a.a,d=null,d=this.d,e=null,c=null,f=0;d&&(e=d.name,c=d.l?B(d.l,a):null,f=1);if(this.m)if(this.f||this.c!=Ab)if(a=V((new W(Tb,new Q("node"))).a(a)),b=z(a))for(d=this.k(b,e,c,f);null!=(b=z(a));)d=Ta(d,this.k(b,e,c,f));else d=new u;else d=h(this.j,b,e,c),d=Za(this.e,d,f);else d=this.k(a.a,e,c,f);return d};W.prototype.k=function(a,b,d,e){a=this.c.d(this.j,a,b,d);return Za(this.e,a,e)};W.prototype.toString=
function(){var a;a="Step:"+A("Operator: "+(this.m?"//":"/"));this.c.h&&(a+=A("Axis: "+this.c));a+=A(this.j);if(this.e.a.length){var b=ka(this.e.a,function(a,b){return a+A(b)},"Predicates:");a+=A(b)}return a};tb.prototype.toString=c("h");var $a={};L("ancestor",function(a,b){for(var d=new u,e=b;e=e.parentNode;)a.a(e)&&Ua(d,e);return d},!0);L("ancestor-or-self",function(a,b){var d=new u,e=b;do a.a(e)&&Ua(d,e);while(e=e.parentNode);return d},!0);var sb=L("attribute",function(a,b){var e=new u,c=a.d();
if("style"==c&&b.style&&T)return w(e,new S(b.style,b,"style",b.style.cssText)),e;var h=b.attributes;if(h)if(a instanceof Q&&null===a.b||"*"==c)for(var c=0,f;f=h[c];c++)T?f.nodeValue&&w(e,la(b,f)):w(e,f);else(f=h.getNamedItem(c))&&(T?f.nodeValue&&w(e,la(b,f)):w(e,f));return e},!1),Ab=L("child",function(a,b,e,c,h){return(T?Sa:lb).call(null,a,b,k(e)?e:null,k(c)?c:null,h||new u)},!1,!0);L("descendant",h,!1,!0);var Tb=L("descendant-or-self",function(a,b,d,c){var f=new u;e(b,d,c)&&a.a(b)&&w(f,b);return h(a,
b,d,c,f)},!1,!0),Rb=L("following",function(a,b,d,c){var f=new u;do for(var q=b;q=q.nextSibling;)e(q,d,c)&&a.a(q)&&w(f,q),f=h(a,q,d,c,f);while(b=b.parentNode);return f},!1,!0);L("following-sibling",function(a,b){for(var e=new u,c=b;c=c.nextSibling;)a.a(c)&&w(e,c);return e},!1);L("namespace",function(){return new u},!1);var Mb=L("parent",function(a,b){var e=new u;if(9==b.nodeType)return e;if(2==b.nodeType)return w(e,b.ownerElement),e;var c=b.parentNode;a.a(c)&&w(e,c);return e},!1),Sb=L("preceding",
function(a,b,d,c){var f=new u,q=[];do q.unshift(b);while(b=b.parentNode);for(var m=1,g=q.length;m<g;m++){var k=[];for(b=q[m];b=b.previousSibling;)k.unshift(b);for(var l=0,Sa=k.length;l<Sa;l++)b=k[l],e(b,d,c)&&a.a(b)&&w(f,b),f=h(a,b,d,c,f)}return f},!0,!0);L("preceding-sibling",function(a,b){for(var e=new u,c=b;c=c.previousSibling;)a.a(c)&&Ua(e,c);return e},!0);var Lb=L("self",function(a,b){var e=new u;a.a(b)&&w(e,b);return e},!1);H(Ka);Ka.prototype.a=function(a){return-C(this.c,a)};Ka.prototype.toString=
function(){return"Unary Expression: -"+A(this.c)};H(La);La.prototype.a=function(a){var b=new u;U(this.c,function(e){e=e.a(a);if(!(e instanceof u))throw Error("Path expression must evaluate to NodeSet.");b=Ta(b,e)});return b};La.prototype.toString=function(){return ka(this.c,function(a,b){return a+A(b)},"Union Expression:")};P.ANY_TYPE=0;P.NUMBER_TYPE=1;P.STRING_TYPE=2;P.BOOLEAN_TYPE=3;P.UNORDERED_NODE_ITERATOR_TYPE=4;P.ORDERED_NODE_ITERATOR_TYPE=5;P.UNORDERED_NODE_SNAPSHOT_TYPE=6;P.ORDERED_NODE_SNAPSHOT_TYPE=
7;P.ANY_UNORDERED_NODE_TYPE=8;P.FIRST_ORDERED_NODE_TYPE=9;var sa=["wgxpath","install"],X=O;sa[0]in X||!X.execScript||X.execScript("var "+sa[0]);for(var ta;sa.length&&(ta=sa.shift());)sa.length||void 0===Cb?X=X[ta]?X[ta]:X[ta]={}:X[ta]=Cb}(),wgxpath.install())})();
(function(){goog={math:{}};goog.math.Long=function(c,f){this.low_=c|0;this.high_=f|0};goog.math.Long.IntCache_={};goog.math.Long.fromInt=function(c){if(-128<=c&&128>c){var f=goog.math.Long.IntCache_[c];if(f)return f}f=new goog.math.Long(c|0,0>c?-1:0);-128<=c&&128>c&&(goog.math.Long.IntCache_[c]=f);return f};goog.math.Long.fromNumber=function(c){return isNaN(c)||!isFinite(c)?goog.math.Long.ZERO:c<=-goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MIN_VALUE:c+1>=goog.math.Long.TWO_PWR_63_DBL_?goog.math.Long.MAX_VALUE:
0>c?goog.math.Long.fromNumber(-c).negate():new goog.math.Long(c%goog.math.Long.TWO_PWR_32_DBL_|0,c/goog.math.Long.TWO_PWR_32_DBL_|0)};goog.math.Long.fromBits=function(c,f){return new goog.math.Long(c,f)};goog.math.Long.fromString=function(c,f){if(0==c.length)throw Error("number format error: empty string");var g=f||10;if(2>g||36<g)throw Error("radix out of range: "+g);if("-"==c.charAt(0))return goog.math.Long.fromString(c.substring(1),g).negate();if(0<=c.indexOf("-"))throw Error('number format error: interior "-" character: '+
c);for(var l=goog.math.Long.fromNumber(Math.pow(g,8)),t=goog.math.Long.ZERO,p=0;p<c.length;p+=8){var y=Math.min(8,c.length-p),F=parseInt(c.substring(p,p+y),g);8>y?(y=goog.math.Long.fromNumber(Math.pow(g,y)),t=t.multiply(y).add(goog.math.Long.fromNumber(F))):(t=t.multiply(l),t=t.add(goog.math.Long.fromNumber(F)))}return t};goog.math.Long.TWO_PWR_16_DBL_=65536;goog.math.Long.TWO_PWR_24_DBL_=16777216;goog.math.Long.TWO_PWR_32_DBL_=goog.math.Long.TWO_PWR_16_DBL_*goog.math.Long.TWO_PWR_16_DBL_;goog.math.Long.TWO_PWR_31_DBL_=
goog.math.Long.TWO_PWR_32_DBL_/2;goog.math.Long.TWO_PWR_48_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_16_DBL_;goog.math.Long.TWO_PWR_64_DBL_=goog.math.Long.TWO_PWR_32_DBL_*goog.math.Long.TWO_PWR_32_DBL_;goog.math.Long.TWO_PWR_63_DBL_=goog.math.Long.TWO_PWR_64_DBL_/2;goog.math.Long.ZERO=goog.math.Long.fromInt(0);goog.math.Long.ONE=goog.math.Long.fromInt(1);goog.math.Long.NEG_ONE=goog.math.Long.fromInt(-1);goog.math.Long.MAX_VALUE=goog.math.Long.fromBits(-1,2147483647);goog.math.Long.MIN_VALUE=
goog.math.Long.fromBits(0,-2147483648);goog.math.Long.TWO_PWR_24_=goog.math.Long.fromInt(16777216);goog.math.Long.prototype.toInt=function(){return this.low_};goog.math.Long.prototype.toNumber=function(){return this.high_*goog.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};goog.math.Long.prototype.toString=function(c){c=c||10;if(2>c||36<c)throw Error("radix out of range: "+c);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(goog.math.Long.MIN_VALUE)){var f=goog.math.Long.fromNumber(c),
g=this.div(f),f=g.multiply(f).subtract(this);return g.toString(c)+f.toInt().toString(c)}return"-"+this.negate().toString(c)}for(var g=goog.math.Long.fromNumber(Math.pow(c,6)),f=this,l="";;){var t=f.div(g),p=f.subtract(t.multiply(g)).toInt().toString(c),f=t;if(f.isZero())return p+l;for(;6>p.length;)p="0"+p;l=""+p+l}};goog.math.Long.prototype.getHighBits=function(){return this.high_};goog.math.Long.prototype.getLowBits=function(){return this.low_};goog.math.Long.prototype.getLowBitsUnsigned=function(){return 0<=
this.low_?this.low_:goog.math.Long.TWO_PWR_32_DBL_+this.low_};goog.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(goog.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var c=0!=this.high_?this.high_:this.low_,f=31;0<f&&0==(c&1<<f);f--);return 0!=this.high_?f+33:f+1};goog.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_};goog.math.Long.prototype.isNegative=function(){return 0>this.high_};goog.math.Long.prototype.isOdd=function(){return 1==
(this.low_&1)};goog.math.Long.prototype.equals=function(c){return this.high_==c.high_&&this.low_==c.low_};goog.math.Long.prototype.notEquals=function(c){return this.high_!=c.high_||this.low_!=c.low_};goog.math.Long.prototype.lessThan=function(c){return 0>this.compare(c)};goog.math.Long.prototype.lessThanOrEqual=function(c){return 0>=this.compare(c)};goog.math.Long.prototype.greaterThan=function(c){return 0<this.compare(c)};goog.math.Long.prototype.greaterThanOrEqual=function(c){return 0<=this.compare(c)};
goog.math.Long.prototype.compare=function(c){if(this.equals(c))return 0;var f=this.isNegative(),g=c.isNegative();return f&&!g?-1:!f&&g?1:this.subtract(c).isNegative()?-1:1};goog.math.Long.prototype.negate=function(){return this.equals(goog.math.Long.MIN_VALUE)?goog.math.Long.MIN_VALUE:this.not().add(goog.math.Long.ONE)};goog.math.Long.prototype.add=function(c){var f=this.high_>>>16,g=this.high_&65535,l=this.low_>>>16,t=c.high_>>>16,p=c.high_&65535,y=c.low_>>>16,F;F=0+((this.low_&65535)+(c.low_&65535));
c=0+(F>>>16);c+=l+y;l=0+(c>>>16);l+=g+p;g=0+(l>>>16);g=g+(f+t)&65535;return goog.math.Long.fromBits((c&65535)<<16|F&65535,g<<16|l&65535)};goog.math.Long.prototype.subtract=function(c){return this.add(c.negate())};goog.math.Long.prototype.multiply=function(c){if(this.isZero()||c.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE))return c.isOdd()?goog.math.Long.MIN_VALUE:goog.math.Long.ZERO;if(c.equals(goog.math.Long.MIN_VALUE))return this.isOdd()?goog.math.Long.MIN_VALUE:
goog.math.Long.ZERO;if(this.isNegative())return c.isNegative()?this.negate().multiply(c.negate()):this.negate().multiply(c).negate();if(c.isNegative())return this.multiply(c.negate()).negate();if(this.lessThan(goog.math.Long.TWO_PWR_24_)&&c.lessThan(goog.math.Long.TWO_PWR_24_))return goog.math.Long.fromNumber(this.toNumber()*c.toNumber());var f=this.high_>>>16,g=this.high_&65535,l=this.low_>>>16,t=this.low_&65535,p=c.high_>>>16,y=c.high_&65535,F=c.low_>>>16;c=c.low_&65535;var G,k,D,aa;aa=0+t*c;D=
0+(aa>>>16);D+=l*c;k=0+(D>>>16);D=(D&65535)+t*F;k+=D>>>16;D&=65535;k+=g*c;G=0+(k>>>16);k=(k&65535)+l*F;G+=k>>>16;k&=65535;k+=t*y;G+=k>>>16;k&=65535;G=G+(f*c+g*F+l*y+t*p)&65535;return goog.math.Long.fromBits(D<<16|aa&65535,G<<16|k)};goog.math.Long.prototype.div=function(c){if(c.isZero())throw Error("division by zero");if(this.isZero())return goog.math.Long.ZERO;if(this.equals(goog.math.Long.MIN_VALUE)){if(c.equals(goog.math.Long.ONE)||c.equals(goog.math.Long.NEG_ONE))return goog.math.Long.MIN_VALUE;
if(c.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ONE;var f=this.shiftRight(1).div(c).shiftLeft(1);if(f.equals(goog.math.Long.ZERO))return c.isNegative()?goog.math.Long.ONE:goog.math.Long.NEG_ONE;var g=this.subtract(c.multiply(f));return f.add(g.div(c))}if(c.equals(goog.math.Long.MIN_VALUE))return goog.math.Long.ZERO;if(this.isNegative())return c.isNegative()?this.negate().div(c.negate()):this.negate().div(c).negate();if(c.isNegative())return this.div(c.negate()).negate();for(var l=goog.math.Long.ZERO,
g=this;g.greaterThanOrEqual(c);){for(var f=Math.max(1,Math.floor(g.toNumber()/c.toNumber())),t=Math.ceil(Math.log(f)/Math.LN2),t=48>=t?1:Math.pow(2,t-48),p=goog.math.Long.fromNumber(f),y=p.multiply(c);y.isNegative()||y.greaterThan(g);)f-=t,p=goog.math.Long.fromNumber(f),y=p.multiply(c);p.isZero()&&(p=goog.math.Long.ONE);l=l.add(p);g=g.subtract(y)}return l};goog.math.Long.prototype.modulo=function(c){return this.subtract(this.div(c).multiply(c))};goog.math.Long.prototype.not=function(){return goog.math.Long.fromBits(~this.low_,
~this.high_)};goog.math.Long.prototype.and=function(c){return goog.math.Long.fromBits(this.low_&c.low_,this.high_&c.high_)};goog.math.Long.prototype.or=function(c){return goog.math.Long.fromBits(this.low_|c.low_,this.high_|c.high_)};goog.math.Long.prototype.xor=function(c){return goog.math.Long.fromBits(this.low_^c.low_,this.high_^c.high_)};goog.math.Long.prototype.shiftLeft=function(c){c&=63;if(0==c)return this;var f=this.low_;return 32>c?goog.math.Long.fromBits(f<<c,this.high_<<c|f>>>32-c):goog.math.Long.fromBits(0,
f<<c-32)};goog.math.Long.prototype.shiftRight=function(c){c&=63;if(0==c)return this;var f=this.high_;return 32>c?goog.math.Long.fromBits(this.low_>>>c|f<<32-c,f>>c):goog.math.Long.fromBits(f>>c-32,0<=f?0:-1)};goog.math.Long.prototype.shiftRightUnsigned=function(c){c&=63;if(0==c)return this;var f=this.high_;return 32>c?goog.math.Long.fromBits(this.low_>>>c|f<<32-c,f>>>c):32==c?goog.math.Long.fromBits(f,0):goog.math.Long.fromBits(f>>>c-32,0)}})();
(function(){window.mbScope=window.mbScope||{};window.mbScope.StringHash={};var c=window.mbScope.StringHash;byteTable=[];HSTART=goog.math.Long.fromString("BB40E64DA205B064",16);HMULT=goog.math.Long.fromString("7664345821815920749");var f=goog.math.Long.fromString("544B2FBACAAF1684",16);for(i=0;256>i;i++){for(j=0;31>j;j++)f=f.shiftRightUnsigned(7).xor(f),f=f.shiftLeft(11).xor(f),f=f.shiftRightUnsigned(10).xor(f);byteTable[i]=f}var g=this;c._hashBytes=function(c){f=goog.math.Long.fromString(g.HSTART.toString());
len=c.length;for(i=0;i<len;i++)index=c[i]&255,f=f.multiply(g.HMULT).xor(g.byteTable[index]);return f.and(goog.math.Long.fromString("7FFFFFFFFFFFFFFF",16))};c._hashString=function(f){var g=[];len=f.length;for(i=0;i<len;i++)g.push(f.charCodeAt(i));return c._hashBytes(g)};c.hashUrl=function(f){f=c._hashString(f.toLowerCase());return f.isNegative()?f.negate().toString(16).toLowerCase():f.toString(16).toLowerCase()}})();
(function(){function c(){la();f();var e=S(ext.pageType);""!=e?k("mbqs_ea",ga(e)):F(ext.pageType,"emailAddress","mbqs_ea",!0);g();t();p()}function f(){for(var e=window.mbScope.xpathEval,c={},f=0;f<window.mbScope.attribute_data.length;f++){var m=window.mbScope.attribute_data[f];m.extractedValue="";for(var g=0;g<m.xpathSelectors.length;g++){var k="string"===typeof m.dataType&&-1<m.dataType.indexOf("list-"),l=k?e.getAllNodeTextsFromXPath(m.xpathSelectors[g],m.dataType,m.regexTransformation):e.getNodeTextFromXPath(m.xpathSelectors[g],
m.dataType,m.expectedValue,m.regexTransformation);if(l.length&&"false"!==l){m.hashValue?(m.extractedValue=k?xa(l):ea(l),m.beforeHashValue=l):m.extractedValue=l;g=1;"pagemarker"==m.name&&(g=10);c[m.pageType]="undefined"==typeof c[m.pageType]?g:c[m.pageType]+g;break}}}for(f=0;f<window.mbScope.regex_data.length;f++){m=window.mbScope.regex_data[f];try{var n=document.URL.match("^"+m.regex+"$"),e="";n&&(c[m.pageType]="undefined"==typeof c[m.pageType]?10:c[m.pageType]+10,1<n.length&&(e=n[1]));if(m.variableToCapture){var p=
{id:"regex_"+m.id,clientId:m.clientId,pageType:m.pageType,dataType:"string",name:"regexCapture_"+m.variableToCapture,expectedValue:null,xpathSelectors:[],useInCatalogFeed:!1,regexTransformation:{regex:"",replacement:"",ignoreCase:!1,replaceAll:!1},useAsProductId:m.useAsProductId,hashValue:m.hashValue,extractedValue:m.hashValue?ea(e):e,beforeHashValue:m.hashValue?e:void 0};window.mbScope.attribute_data.push(p)}}catch(t){}}var f=0,m="",r;for(r in c)c[r]>f&&(m=r,f=c[r]);ext.pageType=m}function g(){""==
ext.pageType&&(ext.pageType="HOME");mybuys.setPageType(ext.pageType);var e=ext.getStoredEmailAddress();null!=e&&""!==e&&mybuys.set("email",e);switch(ext.pageType){case "PRODUCT_DETAILS":mybuys.set("productid",ext.getProductIdFromProductPage());D("feedbackLoop")&&mybuys.set("fbl",1);break;case "CATEGORY":case "HIGH_LEVEL_CATEGORY":case "TOP_LEVEL_CATEGORY":mybuys.set("categoryid",ext.getCategoryIdFromCategoryPage(ext.pageType));break;case "ADD_TO_CART":case "SHOPPING_CART":mybuys.set("amount",ext.getCartAmount(ext.pageType));
mybuys.set("optin",ext.getCartOptin(ext.pageType));ext.doAllAddCartItemQtySubtotalCalls(ext.pageType);ext.storeOrderConfDataIfAppropriate(ext.pageType);break;case "ORDER_CONFIRMATION":mybuys.set("orderid",ext.getOrderid()),mybuys.set("amount",ext.getOrderAmount()),mybuys.set("optin",ext.getOrderOptin()),ext.doAllAddOrderItemQtySubtotalCalls(),ext.clearAllOrderConfCookies()}ext.addAllAvailablePips(ext.pageType);ext.doCustomMybuysCalls();mybuys.initPage()}function l(){var e=ext.getProductIdFromProductPage(),
c=ext.getPdpQuantity(),f=ext.getPdpPrice();e&&c&&f&&(mybuys.setPageType("ADD_TO_CART"),f*=c,mybuys.set("amount",f),mybuys.addCartItemQtySubtotal(e,c,f),mybuys.initPage())}function t(){for(var e=aa(),c=0;c<e.length;c++)E(e[c],"click",l)}function p(){var e=Qa("optinConfButton");null!=e&&E(e,"click",y)}function y(){var e=Qa("optinCheckbox");null!=e&&(e=e.checked,k("mbqs_op",e?1:0))}function F(e,c,f,m){e=ext.getInputXpathSelector(e,c);if(""!==e){var g=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,
null).singleNodeValue;null!=g&&""!=g&&E(g,"input",function(){var e=g.value;m&&(e=ga(e));k(f,e)})}}function G(e){e=mybuys.getCookie(e);return null!=e?e:""}function k(e,c){mybuys.setCookie(e,c,"30","/")}function D(e){return"undefined"===typeof window.mbScope.client_config||null===window.mbScope.client_config||"undefined"===typeof window.mbScope.client_config[e]||null===window.mbScope.client_config[e]?!1:window.mbScope.client_config[e]}function aa(){for(var e=window.mbScope.xpathEval,c=[],f=0;f<window.mbScope.attribute_data.length;f++){var g=
window.mbScope.attribute_data[f];if("PRODUCT_DETAILS"===g.pageType&&"addToCartButton"===g.name)for(var k=0;k<g.xpathSelectors.length;k++){var l=e.getAllNodesFromXPath(g.xpathSelectors[k]);c.push.apply(c,l)}}return c}function Qa(e){for(var c=window.mbScope.xpathEval,f=0;f<window.mbScope.attribute_data.length;f++){var g=window.mbScope.attribute_data[f];if(g.name===e)for(var k=0;k<g.xpathSelectors.length;k++){var l=c.getNodeFromXPath(g.xpathSelectors[k]);if(null!==l)return l}}return null}function ua(e){return r(e)}
function H(){var e={pids:ext.getPidsOnOrderPage(),quantities:ext.fixUpOrderQuantities(n("ORDER_CONFIRMATION","quantities")),subTotals:ext.fixUpOrderSubTotals(n("ORDER_CONFIRMATION","subTotals"))};return e=!e.pids.length&&ext.useRecentCartProductsAsPurchasedProductsOnOrderPage?ext.getRecentCartProducts():e}function R(e){return r(e)}function ca(){return G("mbqs_scid")}function da(){return G("mbqs_sctotal")}function S(e){return n(e,"emailAddress").trim()}function la(){mybuys.params={};mybuys.onPageItemIds=
[];mybuys.zoneKeysToZoneDivIds=[];var e=document.getElementById("mybuyscontainer");if(e&&0<e.childNodes.length)for(var c=0;c<e.childNodes.length;c++){var f=e.childNodes[c].src;f&&-1<f.indexOf("mybuys.com/webrec/wr.do")&&e.removeChild(e.childNodes[c])}}function va(e){if(!e)return"";var c=[],f=e.pids instanceof Array?e.pids:[];c.push("pids\x3d"+f.join("|pid_sep|"));f=e.quantities instanceof Array?e.quantities:[];c.push("quantities\x3d"+f.join("|qt_sep|"));f=e.subTotals instanceof Array?e.subTotals:
[];c.push("subTotals\x3d"+f.join("|st_sep|"));return c.join("|mb_sep|")}function wa(e){e=e.split("|mb_sep|");if(3!==e.length)return{pids:[],quantities:[],subTotals:[]};var c={};c.pids=0===e[0].indexOf("pids\x3d")?e[0].substring(5).split("|pid_sep|"):[];c.quantities=0===e[1].indexOf("quantities\x3d")?e[1].substring(11).split("|qt_sep|"):[];c.subTotals=0===e[2].indexOf("subTotals\x3d")?e[2].substring(10).split("|st_sep|"):[];return c}function n(e,c){var f=ext.getElement(e,c);return null!==f?f.extractedValue:
""}function r(e){e=e instanceof Array?ma(e):[];for(var c=0;c<e.length;c++)e[c]=e[c].trim();return e}function xa(e){e=e instanceof Array?ma(e):[];for(var c=0;c<e.length;c++)e[c]=ea(e[c]);return e}function ma(e){if("undefined"===typeof e||null===e)return[];for(var c=[],f=0;f<e.length;f++)c.push(e[f]);return c}function ea(e){return window.mbScope.StringHash.hashUrl(e)}function Y(e,c){for(var f=0;f<window.mbScope.attribute_data.length;f++){var g=window.mbScope.attribute_data[f];if(g.pageType===e&&g.useAsProductId)return g.extractedValue}return c}
function fa(e,c){var f=document.createElement("script");f.src=e;f.async=!0;f.type="text/javascript";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g);f.onload=f.onreadystatechange=function(){if(!f.readyState||/complete|loaded/.test(f.readyState))c(),f.onload=null,f.onreadystatechange=null}}function na(e){var c=document.createElement("link");c.href=e;c.rel="stylesheet";c.type="text/css";e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e)}function ga(e){for(var c=
[],f=0;f<e.length;f++)c.push(e.charCodeAt(f));return c.join("|")}function E(e,c,f){if(e.addEventListener)return e.addEventListener(c,f,!1),!0;if(e.attachEvent)return e.attachEvent("on"+c,f);console.log("Listener could not be attached")}window.mbScope=window.mbScope||{};window.mbScope.realtimeExtractor={};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});window.mbScope.realtimeExtractor=ext={useRecentCartProductsAsPurchasedProductsOnOrderPage:D("useRecentCartDataAsOrderConfInformation"),
useRecentCartDataAsOrderConfInformation:D("useRecentCartDataAsOrderConfInformation"),breadcrumbDelimiter:"\x3e",initialize:function(){D("disableCss")||na("//t.p.mybuys.com/clients/KRSADDLESHOP/css/styles.css");fa("//t.p.mybuys.com/js/mybuys4.js",function(){fa("//t.p.mybuys.com/clients/KRSADDLESHOP/js/setup.js",function(){c();D("Ajax Site")&&window.jQuery&&jQuery(document).ajaxStop(c)})});window.mbScope.realtimeExtractorLoaded=!0},run:c,determinePageTypeAndLoadAttributes:f,fireBeacon:g,fireAddToCartBeacon:l,
attachPdpAddToCartListener:t,attachOptinConfListener:p,getExtractedValue:n,getElement:function(c,f){for(var g=0;g<window.mbScope.attribute_data.length;g++){var k=window.mbScope.attribute_data[g];if(k.pageType===c&&k.name===f)return k}return null},getInputXpathSelector:function(c,f){var g=ext.getElement(c,f);if(null!=g)for(var k=0;k<g.xpathSelectors.length;k++){var l=g.xpathSelectors[k],n=l.split("/");if(-1<n[n.length-1].toUpperCase().indexOf("INPUT"))return l}return""},getUseAsProductId:Y,copyAndTrim:r,
copyAndHash:xa,arrayCopy:ma,stringHash:ea,normalizeProductUrl:function(c,f){var g,k;f="undefined"!==typeof f?f:!1;var l=document.createElement("a");l.href=c;l.protocol.replace(":","");var n=l.search;g=l.search.replace(/^\?/,"").split("\x26");k=g.length;for(var p=0;p<k;p++)g[p]&&g[p].split("\x3d");l.pathname.match(/\/([^\/?#]+)$/i);g=l.hash.replace("#","");k=l.pathname.replace(/^([^\/])/,"/$1").replace(/[\/]+$/,"");l.href.match(/tps?:\/\/[^\/]+(.+)/);l.pathname.replace(/^\//,"").split("/");l=k;f||
(l=l+n+(0<g.length?"#"+g:""));return l=l.replace(/\/+/g,"/")},importJS:fa,importCss:na,turnCartValuesToString:va,turnStringToCartValues:wa,addEvent:E,getProductIdFromProductPage:function(){return Y("PRODUCT_DETAILS","")},getCategoryIdFromCategoryPage:function(c){c=n(c,"breadcrumbs");return c instanceof Array?c.join(ext.breadcrumbDelimiter).toUpperCase():""},doAllAddCartItemQtySubtotalCalls:function(c){c=ext.getCartItemValues(c);c.quantities=c.quantities.length===c.pids.length?c.quantities:[];c.subTotals=
c.subTotals.length===c.pids.length?c.subTotals:[];for(var f=0;f<c.pids.length;f++)c.quantities.length>f&&!isNaN(c.quantities[f])&&c.subTotals.length>f?mybuys.addCartItemQtySubtotal(c.pids[f],c.quantities[f],c.subTotals[f]):c.quantities.length>f&&!isNaN(c.quantities[f])?mybuys.addCartItemQtySubtotal(c.pids[f],c.quantities[f]):mybuys.addCartItemQtySubtotal(c.pids[f])},getCartItemValues:function(c){c={pids:ext.getPidsOnCartPage(c),quantities:ext.fixUpCartQuantities(n(c,"quantities")),subTotals:ext.fixUpCartSubTotals(n(c,
"subTotals"))};ext.useRecentCartProductsAsPurchasedProductsOnOrderPage&&ext.setRecentCartProducts(c);return c},getPidsOnCartPage:function(c){return ua(Y(c,[]))},getCartAmount:function(c){return n(c,"orderAmount").trim()},getCartOptin:function(c){return G("mbqs_op")},fixUpCartPids:ua,fixUpCartQuantities:function(c){return r(c)},fixUpCartSubTotals:function(c){return r(c)},doAllAddOrderItemQtySubtotalCalls:function(){var c=H();c.quantities=c.quantities.length===c.pids.length?c.quantities:[];c.subTotals=
c.subTotals.length===c.pids.length?c.subTotals:[];for(var f=0;f<c.pids.length;f++)c.quantities.length>f&&!isNaN(c.quantities[f])&&c.subTotals.length>f?mybuys.addOrderItemQtySubtotal(c.pids[f],c.quantities[f],c.subTotals[f]):c.quantities.length>f&&!isNaN(c.quantities[f])?mybuys.addOrderItemQtySubtotal(c.pids[f],c.quantities[f]):mybuys.addOrderItemQtySubtotal(c.pids[f])},getOrderItemValues:H,getPidsOnOrderPage:function(){return R(Y("ORDER_CONFIRMATION",[]))},getOrderAmount:function(){var c=n("ORDER_CONFIRMATION",
"orderAmount").trim();""===c&&da()&&(c=da());return c},getOrderOptin:function(){return G("mbqs_op")},getOrderid:function(){var c=n("ORDER_CONFIRMATION","orderId").trim();""===c&&ca()&&(c=ca());return c},fixUpOrderPids:R,fixUpOrderQuantities:function(c){return r(c)},fixUpOrderSubTotals:function(c){return r(c)},addAllAvailablePips:function(c){c=n(c,"pips");if(c instanceof Array)for(var f=0;f<c.length;f++)mybuys.addItemPresentOnPage(c[f])},setRecentCartProducts:function(c){mybuys.setCookie("mbqs_rc",
va(c),"30","/")},getRecentCartProducts:function(){return wa(mybuys.getCookie("mbqs_rc"))},getStoredEmailAddress:function(){var c;var f=G("mbqs_ea");if(""===f)c=f;else{c=[];for(var f=f.split("|"),g=0;g<f.length;g++)c.push(String.fromCharCode(f[g]));c=c.join("")}return c},getEmailAddressToStore:S,doCustomMybuysCalls:function(){},storeOrderConfDataIfAppropriate:function(c){if(ext.useRecentCartDataAsOrderConfInformation){var f="";""!==n(c,"orderId")&&(f=n(c,"orderId").trim(),k("mbqs_scid",f));""!==n(c,
"emailAddress")&&(f=n(c,"emailAddress").trim(),k("mbqs_ea",ga(f)));""!==n(c,"orderAmount")&&(f=n(c,"orderAmount").trim(),k("mbqs_sctotal",f))}},clearAllOrderConfCookies:function(){mybuys.setCookie("mbqs_rc","","30","/");mybuys.setCookie("mbqs_ea","","30","/");mybuys.setCookie("mbqs_scid","","30","/");mybuys.setCookie("mbqs_sctotal","","30","/")},getStoredOrderID:ca,getStoredOrderTotal:da,getPdpQuantity:function(){for(var c=window.mbScope.xpathEval,f=0;f<window.mbScope.attribute_data.length;f++){var g=
window.mbScope.attribute_data[f];if("PRODUCT_DETAILS"===g.pageType&&"quantity"===g.name&&g.xpathSelectors.length)for(var k=0;k<g.xpathSelectors.length;k++){var l=c.getNodeFromXPath(g.xpathSelectors[k]);if(""!=l&&l.value)return l.value}}return"1"},getPdpPrice:function(){var c=n("PRODUCT_DETAILS","salePrice"),f=n("PRODUCT_DETAILS","listPrice");return""!=c?c:f},getPdpAddToCartButtons:aa,cleanUpExistingObject:la,storeOptinValInCookie:y,getElementForAttributeName:Qa};window.mbScope.entryPoint=function(){window.mbScope&&
window.mbScope.realtimeExtractorLoaded||window.mbScope.realtimeExtractor.initialize()}})();(function(){"complete"==document.readyState?window.mbScope.entryPoint():window.addEventListener?window.addEventListener("load",window.mbScope.entryPoint,!1):window.attachEvent?window.attachEvent("onload",window.mbScope.entryPoint):window.mbScope.entryPoint()})();
